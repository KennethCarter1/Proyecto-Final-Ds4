@model RecetasDeCocinaWeb.Models.Respuestas.BusquedaUsuariosRespuesta
@using System.Linq
<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>@ViewBag.Title</title>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Alice&display=swap">
    <link rel="stylesheet" href="~/Content/Styles_Profile.css" />
    @RenderSection("styles", required: false)
</head>
<body>
    @{
        var usuario = Model?.Usuarios?.FirstOrDefault();
    }
    <!-- ========== NAVBAR PRINCIPAL ========== -->
    <nav class="navbar1">
        <ul class="navbar-list">
            <li><img src="@usuario.ImagenUsuario" alt="Logo" /></li>
            <li><a href="@Url.Action("Index", "Recetas")">Inicio</a></li>
            <li><a href="@Url.Action("Populares", "Recetas")">Más populares</a></li>
            <li><a href="@Url.Action("Calificadas", "Recetas")">Más calificadas</a></li>
            <li>
                <div class="formulario-group-nav">
                    <form action="@Url.Action("UsuarioBusqueda", "Usuario")" method="get">
                        <input type="text" name="query" placeholder="Buscar Usuario..." required />
                        <button type="submit"><img src="~/Content/Botones/buscar.png" alt="Buscar" /></button>
                    </form>
                </div>
            </li>
            <li><a href="@Url.Action("MiPerfil", "Usuario")">Mi perfil</a></li>
            <li><a href="@Url.Action("Logout", "Auth")">Salir</a></li>
        </ul>
    </nav>

    <div class="dividir">


        <div class="user-profile">
            @if (usuario != null)
            {
                if (!string.IsNullOrEmpty(usuario.ImagenUsuario))
                {
                    <img src="@usuario.ImagenUsuario" class="avatar" alt="@usuario.Usuario" />
                }
                else
                {
                    <img src="~/Content/logo-default/logo.png" class="avatar" alt="Default" />
                }
                <h2 class="profile-name">@usuario.Usuario</h2>
                <div class="profile-stats">
                    <img src="https://cdn-icons-png.flaticon.com/512/833/833472.png" alt="Like" />
                    <span>@usuario.TotalMeGusta Likes</span>
                    <img src="https://cdn-icons-png.flaticon.com/512/2441/2441712.png" alt="Valoración" />
                    <span>@usuario.PromedioValoracion.ToString("0.00") Valoración</span>
                </div>
            }
            else
            {
                <div class="no-results">
                    <img src="~/Content/logo-default/logo.png" class="avatar" alt="Sin usuario" />
                    <h2 class="profile-name">Usuario no encontrado</h2>
                </div>
            }
        </div>

        @RenderBody()
    </div>
</body>
</html>